{"ast":null,"code":"var walkRulesRight = require('../../utils/walk.js').rulesRight;\n\nfunction isMediaRule(node) {\n  return node.type === 'Atrule' && node.name === 'media';\n}\n\nfunction processAtrule(node, item, list) {\n  if (!isMediaRule(node)) {\n    return;\n  }\n\n  var prev = item.prev && item.prev.data;\n\n  if (!prev || !isMediaRule(prev)) {\n    return;\n  } // merge @media with same query\n\n\n  if (node.expression.id === prev.expression.id) {\n    prev.block.rules.appendList(node.block.rules);\n    prev.info = {\n      primary: prev.info,\n      merged: node.info\n    };\n    list.remove(item);\n  }\n}\n\n;\n\nmodule.exports = function rejoinAtrule(ast) {\n  walkRulesRight(ast, function (node, item, list) {\n    if (node.type === 'Atrule') {\n      processAtrule(node, item, list);\n    }\n  });\n};","map":null,"metadata":{},"sourceType":"script"}