{"ast":null,"code":"var hasOwnProperty = Object.prototype.hasOwnProperty;\n\nfunction buildMap(list, caseInsensitive) {\n  var map = Object.create(null);\n\n  if (!Array.isArray(list)) {\n    return false;\n  }\n\n  for (var i = 0; i < list.length; i++) {\n    var name = list[i];\n\n    if (caseInsensitive) {\n      name = name.toLowerCase();\n    }\n\n    map[name] = true;\n  }\n\n  return map;\n}\n\nfunction buildIndex(data) {\n  var scopes = false;\n\n  if (data.scopes && Array.isArray(data.scopes)) {\n    scopes = Object.create(null);\n\n    for (var i = 0; i < data.scopes.length; i++) {\n      var list = data.scopes[i];\n\n      if (!list || !Array.isArray(list)) {\n        throw new Error('Wrong usage format');\n      }\n\n      for (var j = 0; j < list.length; j++) {\n        var name = list[j];\n\n        if (hasOwnProperty.call(scopes, name)) {\n          throw new Error('Class can\\'t be used for several scopes: ' + name);\n        }\n\n        scopes[name] = i + 1;\n      }\n    }\n  }\n\n  return {\n    tags: buildMap(data.tags, true),\n    ids: buildMap(data.ids),\n    classes: buildMap(data.classes),\n    scopes: scopes\n  };\n}\n\nmodule.exports = {\n  buildIndex: buildIndex\n};","map":null,"metadata":{},"sourceType":"script"}