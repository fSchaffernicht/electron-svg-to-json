{"ast":null,"code":"var UNICODE = '\\\\\\\\[0-9a-f]{1,6}(\\\\r\\\\n|[ \\\\n\\\\r\\\\t\\\\f])?';\nvar ESCAPE = '(' + UNICODE + '|\\\\\\\\[^\\\\n\\\\r\\\\f0-9a-fA-F])';\nvar NONPRINTABLE = \"\\0\\b\\x0B\\x0E-\\x1F\\x7F\";\nvar SAFE_URL = new RegExp('^(' + ESCAPE + '|[^\\\"\\'\\\\(\\\\)\\\\\\\\\\\\s' + NONPRINTABLE + '])*$', 'i');\n\nmodule.exports = function (node) {\n  var value = node.value;\n\n  if (value.type !== 'String') {\n    return;\n  }\n\n  var quote = value.value[0];\n  var url = value.value.substr(1, value.value.length - 2); // convert `\\\\` to `/`\n\n  url = url.replace(/\\\\\\\\/g, '/'); // remove quotes when safe\n  // https://www.w3.org/TR/css-syntax-3/#url-unquoted-diagram\n\n  if (SAFE_URL.test(url)) {\n    node.value = {\n      type: 'Raw',\n      info: node.value.info,\n      value: url\n    };\n  } else {\n    // use double quotes if string has no double quotes\n    // otherwise use original quotes\n    // TODO: make better quote type selection\n    node.value.value = url.indexOf('\"') === -1 ? '\"' + url + '\"' : quote + url + quote;\n  }\n};","map":null,"metadata":{},"sourceType":"script"}