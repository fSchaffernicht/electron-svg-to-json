{"ast":null,"code":"'use strict';\n\nexports.type = 'perItem';\nexports.active = true;\nexports.params = {\n  svgo: {}\n};\nexports.description = 'minifies existing styles in svg';\n\nvar csso = require('csso');\n/**\n * Minifies styles (<style> element + style attribute) using svgo\n *\n * @param {Object} item current iteration item\n * @return {Boolean} if false, item will be filtered out\n *\n * @author strarsis <strarsis@gmail.com>\n */\n\n\nexports.fn = function (item, svgoOptions) {\n  if (item.elem) {\n    if (item.isElem('style') && !item.isEmpty()) {\n      var styleCss = item.content[0].text || item.content[0].cdata || [],\n          DATA = styleCss.indexOf('>') >= 0 || styleCss.indexOf('<') >= 0 ? 'cdata' : 'text';\n\n      if (styleCss.length > 0) {\n        var styleCssMinified = csso.minify(styleCss, svgoOptions);\n        item.content[0][DATA] = styleCssMinified.css;\n      }\n    }\n\n    if (item.hasAttr('style')) {\n      var itemCss = item.attr('style').value;\n\n      if (itemCss.length > 0) {\n        var itemCssMinified = csso.minifyBlock(itemCss, svgoOptions);\n        item.attr('style').value = itemCssMinified.css;\n      }\n    }\n  }\n\n  return item;\n};","map":null,"metadata":{},"sourceType":"script"}