{"ast":null,"code":"'use strict';\n\nexports.type = 'perItem';\nexports.active = true;\nexports.description = 'removes empty <text> elements';\nexports.params = {\n  text: true,\n  tspan: true,\n  tref: true\n};\n/**\n * Remove empty Text elements.\n *\n * @see http://www.w3.org/TR/SVG/text.html\n *\n * @example\n * Remove empty text element:\n * <text/>\n *\n * Remove empty tspan element:\n * <tspan/>\n *\n * Remove tref with empty xlink:href attribute:\n * <tref xlink:href=\"\"/>\n *\n * @param {Object} item current iteration item\n * @param {Object} params plugin params\n * @return {Boolean} if false, item will be filtered out\n *\n * @author Kir Belevich\n */\n\nexports.fn = function (item, params) {\n  // Remove empty text element\n  if (params.text && item.isElem('text') && item.isEmpty()) return false; // Remove empty tspan element\n\n  if (params.tspan && item.isElem('tspan') && item.isEmpty()) return false; // Remove tref with empty xlink:href attribute\n\n  if (params.tref && item.isElem('tref') && !item.hasAttrLocal('href')) return false;\n};","map":null,"metadata":{},"sourceType":"script"}